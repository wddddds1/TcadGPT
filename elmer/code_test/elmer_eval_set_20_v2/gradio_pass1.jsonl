{"id": "elmer_eval_001", "model": "gradio", "k": 1, "instruction": "请编写一个 ELMER .sif 文件，用于弹性分析，包含 Global、Header、Constants、Simulation 和 Body 等部分，使用 StressSolve 和 ResultOutputSolve 过程，设置两个材料块，并在第一个求解器中启用 Reference Norm。", "source_path": "elmerfem_repo/fem/tests/SD_elmer_earth_2d_2layer/2layer.sif", "source_rel": "fem/tests/SD_elmer_earth_2d_2layer/2layer.sif", "samples": ["! This is a consistency test for a transient case with damping via\n! parameter Rayleigh Damping Beta.\n!\n! Both nonlinear and linear solvers are tested within the same test.\n!\n! This one with Element = p:2\n!\n! P.R. 30.3.2021\n$beta = 1.0\n$tsteps=1000\n$dt=0.01\n! Without damping                          ! Nodal quadratic\n!Solver 1 :: Reference Norm = 1.67649440E-01! 1.66066677E-01\n!Solver 2 :: Reference Norm = 1.67609359E-01! 1.65986821E-01\n! With damping, beta = 1.0                 ! Nodal quadratic\n! 1000 timesteps\n!Solver 1 :: Reference Norm = 5.84790919E-02! 5.77674335E-02\n!Solver 2 :: Reference Norm = 5.83186321E-02! 5.76088557E-02\n! 50 timesteps\nSolver 1 :: Reference Norm = 3.12068578E-02\nSolver 2 :: Reference Norm = 3.12041619E-02\n\nHeader\n  Mesh DB \".\" \"beam2d\"\nEnd\n\nConstants\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = Cartesian\n  Simulation Type = Transient\n  Steady State Max Iterations = 1\n  Timestepping Method = Bossak\n  Timestep Sizes = $dt\n  Timestep Intervals = 50\n  Output Intervals = 5\n  vtu: Save Bulk Only = Logical True\n!  Post File = \"case.vtu\"\n  Serendipity P Elements = False\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\n  Initial Condition = 0.988304\n  Body Force = 1\nEnd\n\nBody 2\n  Equation = 1\n  Material = 1\n  Initial Condition = 1\n  Body Force = 1\nEnd\n\nBody Force 1\n  Stress Bodyforce 2 = Variable \"Time\"\n  Real\n  0.0 1.0\n  0.1 1.0\n  0.2 0.0\n  1.0 0.0\nEnd\n\nInitial Condition 1\n  Name = \"Start\"\n  DisplacementA 1 = Real 0.0\n  DisplacementA 2 = Real 0.0\n  DisplacementB 1 = Real 0.0\n  DisplacementB 2 = Real 0.0\nEnd\n\nMaterial 1\n  Density = 1.0\n  Youngs Modulus = 1.0e4\n  Poisson Ratio = 0.3\n  Rayleigh Damping Beta = $beta\nEnd\n\nSolver 1\n  Equation = StressSolver\n  Element = p:2\n  Variable = -dofs 2 DisplacementA\n  Procedure = \"StressSolve\" \"StressSolver\"\n  Linear System Solver = Direct\n  Linear System Direct Method = umfpack\n! These two keywords are needed to enable that the norm is nodal\n! for p-elements i.e. comparable to nodal elements.\n  Optimize Bandwidth = False\n  Nonlinear System Nodal Norm = Logical True\n  Nonlinear System Max Iterations = 1\n  Displace Mesh = False\nEnd\n\nSolver 2\n  Equation = ElasticitySolver\n  Element = p:2\n  Variable = -dofs 2 DisplacementB\n  Procedure = \"ElasticSolve\" \"ElasticSolver\"\n  Linear System Solver = Direct\n  Linear System Direct Method = umfpack\n  Nonlinear System Max Iterations = 20\n  Nonlinear System Convergence Tolerance = 1.0e-6\n  Optimize Bandwidth = False\n  Nonlinear System Nodal Norm = Logical True\n  Displace Mesh = False\nEnd\n\nEquation 1\n  Active Solvers(2) = 1 2\nEnd\n\nBoundary Condition 1\n  Name = \"Wall\"\n  Target Boundaries(1) = 1\n  DisplacementA 1 = Real 0.0\n  DisplacementA 2 = Real 0.0\n  DisplacementB 1 = Real 0.0\n  DisplacementB 2 = Real 0.0\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_002", "model": "gradio", "k": 1, "instruction": "帮我生成一个 ELMER .sif 文件，核心是用 HeatSolve 方程，过程配 'HeatSolveVec' 和 'HeatSolver'，Solver 1 加个 Reference Norm，材料就一块。", "source_path": "elmerfem_repo/fem/tests/HeatSolveVecDGandMortar/case.sif", "source_rel": "fem/tests/HeatSolveVecDGandMortar/case.sif", "samples": ["! Test case for generalized source control\n! This one with given maximum temperature.\n!\n! P.R. 27.8.2020\nCheck Keywords \"Warn\"\nSolver 1 :: Reference Norm = 5.09253491E+01\n\nHeader\n  Mesh DB \".\" \"square\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian\"\n  Simulation Type = Steady\n  Output Intervals = 1\n  Steady State Max Iterations = 1\n  Post File = case.vtu\nEnd\n\nBody 1\n  Equation = 1\n  Body Force = 1\n  Material = 1\nEnd\n\nEquation 1\n  Name = \"Heat\"\n  Active Solvers(1) = 1\nEnd\n\nBody Force 1\n  Name = \"SourceControl\"\n! Base source\n  Heat Source = 1.0\n! This is an additive heat source for which we need\n! an amplitude. It is of the form: \"VarName\"+ \"Control\"\n  Temperature Control = Real 1.0\n! Same results without control for reference:\n!   Heat Source = $1+1.345623E+03\nEnd\n\nMaterial 1\n  Name = \"Ideal\"\n  Heat Conductivity = 1.0\n  Density = 1.0\nEnd\n\nSolver 1\n  Equation = HeatSolver\n  Variable = Temperature\n  Procedure = \"HeatSolveVec\" \"HeatSolver\"\n  Nonlinear System Max Iterations = 10\n  Nonlinear System Convergence Tolerance = 1.0e-5\n  Linear System Solver = Iterative\n  Linear System Iterative Method = BiCGStab\n  Linear System Max Iterations = 500\n  Linear System Convergence Tolerance = 1.0e-8\n  Linear System Preconditioning = ILU1\n  Linear System ILUT Tolerance = 1.0e-3\n  Linear System Abort Not Converged = False\n  Linear System Residual Output = 10\n  Linear System Precondition Recompute = 1\n  Apply Source Control = Logical True\n  Control Target Value = Real 100.0\nEnd\n\nBoundary Condition 1\n  Target Boundaries = 1\n  Temperature = 0.0\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_003", "model": "gradio", "k": 1, "instruction": "我需要一个 ELMER 的 .sif 配置文件，主要用于求解 Helmholtz 方程并保存标量数据，涉及两个材料定义。", "source_path": "elmerfem_repo/fem/tests/ShoeboxFsiHarmonicPlate/case.sif", "source_rel": "fem/tests/ShoeboxFsiHarmonicPlate/case.sif", "samples": ["$ fem = 0\n$ r =  1.224\n$ c = 340\n$ w = 15000\n$ k = w / c\nSolver 1 :: Reference Norm = Real 0.126306290208E-01\nRUN\n\nHeader\n  CHECK KEYWORDS Warn\n  Mesh DB \".\" \"MeshFiles\"\n  Include Path \"\"\n  Results Directory \"\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Angular Frequency = $ if( fem ) { w } else { k }\n  Coordinate System = \"Cartesian 2D\"\n  Coordinate Mapping(3) = 1 2 3\n  Simulation Type = \"Steady State\"\n  Steady State Max Iterations = 1\n  Output Intervals = 1\n! Output File = \"CircleInBox.dat\"\n! Post File = \"CircleInBox.vtu\"\nEnd\n\nConstants\n  Gravity(4) = 0 -1 0 9.82\n  Stefan Boltzmann = 5.67e-08\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\nEnd\n\nEquation 1\n  Helmholtz = Logical True\nEnd\n\nSolver 1\n  Equation = \"Helmholtz\"\n  Variable = \"Pressure\"\n  Variable Dofs = 2\n  $ if( fem ) { \"Procedure = \\\"HelmholtzSolve\\\" \\\"HelmholtzSolver\\\" \" } \\\n      else    { \"Procedure = \\\"HelmholtzBEM\\\" \\\"HelmholtzBEMSolver\\\" \" }\n  Exported Variable 1 = Flux\n  Exported Variable 1 DOFs = 2\n  Linear System Solver = $ if( ~fem ) { \"Direct\" } else { \"Iterative\" }\n  Linear System Iterative Method = \"BiCGStab\"\n  Linear System Max Iterations = 300\n  Linear System Convergence Tolerance = 1.0e-08\n  Linear System Abort Not Converged = True\n  Linear System Preconditioning = \"ILU0\"\n  Linear System Residual Output = 1\n  Linear System Precondition Recompute = 1\n  Steady State Convergence Tolerance = 1.0e-05\n  Nonlinear System Convergence Tolerance = 1.0e-05\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Newton After Iterations = 3\n  Nonlinear System Newton After Tolerance = 1.0e-02\n  Nonlinear System Relaxation Factor = 1\n  Optimize Bandwidth = $ if( fem ) { \"TRUE\" } else { \"FALSE\" }\nEnd\n\nMaterial 1\n  Density = $ r\n  Sound Speed = $ c\nEnd\n\nBoundary Condition 1\n  Normal Target Body = 0\n  Target Boundaries(1) = 2\n  $ if( ~fem ) { \"Body Id = 1\" }\n  Wave Flux 1 = 1\n  Flux 1 = Real 1\nEnd\n\nBoundary Condition 2\n  Target Boundaries(1) = 1\n  Wave Impedance 2 = Real $ c\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_004", "model": "gradio", "k": 1, "instruction": "背景是热分析模拟，需要生成 ELMER 输入文件。请先定义文件的基本结构和常数，然后设置热求解方程与输出过程，最后为求解器配置参考范数并指定单一材料。", "source_path": "elmerfem_repo/fem/tests/MortarPoisson2Dpriority/case.sif", "source_rel": "fem/tests/MortarPoisson2Dpriority/case.sif", "samples": ["Header\n  CHECK KEYWORDS Warn\n  Mesh DB \".\" \"circle\"\n  Include Path \"\"\n  Results Directory \"\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian\"\n  Coordinate Mapping(3) = 1 2 3\n  Simulation Type = \"Steady State\"\n  Steady State Max Iterations = 1\n  Output Intervals = 1\n  Output Intervals = 0\n  Post File = \"case.vtu\"\nEnd\n\nConstants\n  Gravity(4) = 0 -1 0 9.82\n  Stefan Boltzmann = 5.67e-08\nEnd\n\nBody 1\n  Name = \"Particle\"\n  Equation = 1\n  Material = 1\n  Body Force = 1\nEnd\n\nBody 2\n  Name = \"Observer\"\n  Equation = 1\n  Material = 1\nEnd\n\nBody Force 1\n  Name = \"Heating\"\n  Heat Source = 0.974373\nEnd\n\nEquation 1\n  Name = \"Equations\"\n  Active Solvers(2) = 1 2\nEnd\n\nSolver 1\n  Exec Solver = Before all\n  Equation = \"MapCoordinate\"\n  Procedure = \"StructuredMeshMapper\" \"StructuredMeshMapper\"\n  Active Coordinate = Integer 3\nEnd\n\nSolver 2\n  Exec Solver = \"Before Simulation\"\n  Equation = \"HeatSolve\"\n  Procedure = \"HeatSolve\" \"HeatSolver\"\n  Variable = \"Temperature\"\n  Variable Dofs = 1\n  Linear System Solver = \"Iterative\"\n  Linear System Iterative Method = \"BiCGStabl\"\n  BiCgStabl Polynomial Degree = 4\n  Linear System Max Iterations = 500\n  Linear System Convergence Tolerance = 1.0e-08\n  Linear System Abort Not Converged = True\n  Linear System Preconditioning = \"none\"\n  Linear System Residual Output = 0\n  Linear System Precondition Recompute = 1\n  Optimize Bandwidth = False\n!  Stabilize = True\n  Bubbles = False\n  Nonlinear System Convergence Tolerance = 1.0e-05\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Newton After Iterations = 3\n  Nonlinear System Newton After Tolerance = 1.0e-02\n  Nonlinear System Relaxation Factor = 1.0\n!  Linear System Symmetric = True\n!  Linear System Scaling = True\n  Linear System Timing = True\n  Solver Timing = Logical True\n  Linear System Timing Cumulative = True\n  Solver Timing Cumulative = True\nEnd\n\nSolver 3\n  Exec Solver = never\n  Equation = \"result output\"\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Output File Name = case\n  Vtu Format = Logical True\n  Binary Output = Logical True\n  Single Precision = Logical True\nEnd\n\nMaterial 1\n  Name = \"Material\"\n  Density = 1\n  Heat Conductivity = 1\nEnd\n\nBoundary Condition 1\n  Name = \"Sides\"\n  Target Boundaries(2) = 1 2\n  Temperature = 0\nEnd\n\nBoundary Condition 2\n  Name = \"Mortar BC\"\n  Target Boundaries = 3\n  Mortar BC = 1\n  Level Projector = Logical True\n  Galerkin Projector = Logical True\n  Plane Projector = Logical True\n!  Generic Projector = True\n  Save Projector = Logical True\nEnd\n\nBoundary Condition 3\n  Name = \"Master\"\n  Target Boundaries = 4\n  Temperature = 0\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_005", "model": "gradio", "k": 1, "instruction": "请帮我写个 ELMER 的 .sif 文件，用来做磁动力学相关的计算，要包含方程、求解器和材料这些基本部分，具体参数你看着设。", "source_path": "elmerfem_repo/fem/tests/mgdyn_transient_loss/MGDynamicsTransient.sif", "source_rel": "fem/tests/mgdyn_transient_loss/MGDynamicsTransient.sif", "samples": ["Header\n  Mesh DB \".\" \"mesh3d\"\nEnd\n\nSimulation\n  Max Output Level = 10\n  Coordinate System = Cartesian\n  Simulation Type = steady state\n  Timestep Sizes = 0.00101\n  Timestep Intervals = 1\n  Timestepping Method = BDF\n  BDF Order = 1\n  Output Intervals(1) = 1\n  Steady State Max Iterations = 1\n  Mesh Levels = 1\n  Mesh Keep = 1\n  Use Mesh Names = Logical False\nEnd\n\n! Air in between rotor PMs\n! for winding_a\n! for winding_b\nBody Force 2:: Calculate Potential = Logical True\n! for winding_c\nBody Force 3:: Calculate Potential = Logical True\n! Rotate rotor at 25 Hz frequency. At first timestep step theta=0\n! Rotor Component for torque calculation using\n! the sum of nodal forces in rotating domains\n! The postprocessing quantity is obtained via the CalcFields Solver\n! Note: this is active only if CalcFields solver is turned on!\n! Air\n! core plating / axel steel\n! Kupari\n! Radiaalisen magnetointivektorin koordinaattisuuntainen komponentti\n$function mx(tx) { r=sqrt(sum(tx^2)); _mx=tx(0)/r; }\n! Kestomagneetti\n! nonlinear iron\n! linear iron\nEquation 1 :: Active Solvers(5) = 1 2 3 4 5\n! Roottorin pyritys joka aika-askeleen aluksi\n! Use the post processing routines from 3D magnetodynamics\n! Save voltages and torque\n! Periodic boundary, stator part\nBoundary Condition 4:: Name = \"periodic_stator_left\"\n! Periodic boundary, rotor part\nBoundary Condition 6:: Name = \"periodic_rotor_left\"\nSolver 2 :: reference norm = 3.40831276E-02\nSolver 3 :: reference norm = 5.76003804E+05\nSolver 5 :: reference norm = 1.57043489E+02\n\nBody 1\n  Name = \"rotor_air\"\n  Equation = 1\n  Material = 1\n  Body Force = 4\nEnd\n\nBody 2\n  Name = \"axelsteel\"\n  Equation = 1\n  Material = 2\n  Body Force = 4\nEnd\n\nBody 3\n  Name = \"rotorcoreplating\"\n  Equation = 1\n  Material = 2\n  Body Force = 4\nEnd\n\nBody 6\n  Name = \"statorcoreplating\"\n  Equation = 1\n  Material = 6\nEnd\n\nBody 4\n  Name = \"airgap\"\n  Equation = 1\n  Material = 1\n! This launches computation using \"Arkkio's formula\" for the torque.\n  R Inner = Real 0.0982\n  R Outer = Real 0.1000\nEnd\n\nBody 5\n  Name = \"rotor_pm\"\n  Equation = 1\n  Material = 4\n  Body Force = 4\nEnd\n\nBody 7\n  Name = \"winding_a\"\n  Equation = 1\n  Material = 3\n  Body Force = 1\nEnd\n\nBody 8\n  Name = \"winding_b\"\n  Equation = 1\n  Material = 3\n  Body Force = 2\nEnd\n\nBody 9\n  Name = \"winding_c\"\n  Equation = 1\n  Material = 3\n  Body Force = 3\nEnd\n\nBody 10\n  Name = \"cutout_stator\"\n  Equation = 1\n  Material = 1\nEnd\n\nBody Force 1\n  Current Density = 3e6\n  Calculate Potential = Logical True\nEnd\n\nBody Force 4\n$omega = 2*pi*25*180/pi\n  Mesh Rotate 3 = Variable time,timestep size\n  Real MATC \"omega*(tx(0)-tx(1))\"\nEnd\n\nComponent 1\n  Name = String \"Rotating_Domains\"\n  Master Bodies(5) = Integer 6 7 8 9 10\n  Calculate Magnetic Torque = Logical true\nEnd\n\nMaterial 1\n  Name = \"Air\"\n  Relative Permeability = 1\n  Relative Permittivity = 1\nEnd\n\nMaterial 2\n Name = \"Iron\"\n!H-B Curve = Variable coupled iter\n!Real Cubic\n!   Include BH\n! End\n!Electric Conductivity = 0\n  Relative Permeability = 1000\n  Relative Permittivity = 1\n  Electric Conductivity = Real 1e5\nEnd\n\nMaterial 3\n  Electric Conductivity = 60e6\n  Relative Permittivity = 1\n  Relative Permeability = 1\nEnd\n\nMaterial 4\n  Relative Permeability = 1\n  Relative Permittivity = 1\n  $ mag = -8e5\n  Magnetization 1 = Variable Coordinate\n  Real MATC \"mag*mx(tx(0) tx(1))\"\n  Magnetization 2 = Variable Coordinate\n  Real MATC \"mag*mx(tx(1) tx(0))\"\nEnd\n\nMaterial 5\n Name = \"Iron\"\n Relative Permittivity = 1\n!H-B Curve = Variable coupled iter\n!Real Cubic\n   !Include BH\n !End\n  Relative Permeability = 1000\nEnd\n\nMaterial 6\n  Name = \"Iron\"\n !Electric Conductivity = 0\n  Relative Permeability = 1000\n  Electric Conductivity = Real 1e5\n  Relative Permittivity = 1\nEnd\n\nSolver 1\n  Exec Solver = Before timestep\n  Equation = MeshDeform\n  Procedure = \"RigidMeshMapper\" \"RigidMeshMapper\"\nEnd\n\nSolver 2\n  Equation = \"Mag\"\n  Variable = \"A\"\n  Procedure = \"MagnetoDynamics2D\" \"MagnetoDynamics2D\"\n! save coordinates\n  Exported Variable 1 = Coordinates[Coordinates:3]\n  Linear System Solver = Iterative\n  Linear System Symmetric=True\n  Linear System Convergence Tolerance = 1.e-10\n  Linear System Max Iterations=1000\n  Linear System Residual Output=10\n  Linear System Abort not Converged=False\n  Linear System preconditioning=ilu0\n  Linear System Iterative Method = gcr\n  Steady State Convergence Tolerance = 1e-06\n  Apply Mortar BCs = Logical True\nEnd\n\nSolver 3\n  Equation = ComputeB\n  Potential Variable=\"A\"\n  Procedure = \"MagnetoDynamics\" \"MagnetoDynamicsCalcFields\"\n  Calculate Current Density = Logical True\n  Calculate Electric Field = Logical True\n  Calculate Magnetic Field Strength = Logical True\n  Calculate Magnetic Vector Potential = Logical True\n  Calculate Nodal Forces = Logical True\n  Calculate Nodal Fields = Logical True\n  Calculate Elemental Fields = Logical True\n !Calculate Maxwell Stress = Logical True\n !Apply Mortar BCs = Logical True\n !Optimize Bandwidth = False\n  Linear System Solver = Iterative\n  Linear System Iterative Method = BicgstabL\n  Linear System Symmetric = True\n  Linear System Max Iterations = 100\n  Linear System Preconditioning = ILU2\n  Linear System Convergence Tolerance = 1.0e-8\n  Impose Body Force Current = Logical True\nEnd\n\nSolver 4\n  exec solver = never\n  Equation = \"result output\"\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Output File Name = case\n  Output Directory = konesec\n  Save Geometry IDs = Logical True\n  Vtu Format = Logical True\n!  Save Bulk Only = Logical True\n  Discontinuous Bodies = Logical True\nEnd\n\nSolver 5\n!  Exec Solver = never\n  Procedure = \"SaveData\" \"SaveScalars\"\n !Filename = f_b.dat\n  Variable 1 = time\n  Expression 1 = Variable time,timestep size\n  Real MATC \"omega*(tx(0)-tx(1))\"\n  show norm index = integer 10\nEnd\n\nBoundary Condition 3\n  Name = \"periodic_stator_bottom\"\n  Mortar BC = 4\n ! Only compute once\n  Mortar BC Static = Logical True\n  Anti Radial Projector = Logical True\n !Level Projector = Logical True\n  Galerkin Projector = Logical True\nEnd\n\nBoundary Condition 5\n  Name = \"periodic_rotor_bottom\"\n  Mortar BC = 6\n  Mortar BC Static = Logical True\n  Anti Radial Projector = Logical True\n !Level Projector = Logical True\n  Galerkin Projector = Logical True\nEnd\n\nBoundary Condition 7\n  Name = \"stator_ext\"\n  A = Real 0\nEnd"], "mesh_name": "mesh3d"}
{"id": "elmer_eval_006", "model": "gradio", "k": 1, "instruction": "请编写一个可运行的 ELMER .sif 文件，需包含 Global、Header、Simulation、Equation 及多个 Solver 等共 14 个 section。方程需使用 'mgdyn'、'MGDynamicsCalc'、'result output'、'Helmholtz projection' 和 'Remove kernel component'。求解过程需包含 'MagnetoDynamics' 'WhitneyAVSolver'、'MagnetoDynamics' 'MagnetoDynamicsCalcFields'、'ResultOutputSolve' 'ResultOutputSolver'、'SaveData' 'SaveScalars'、'HelmholtzProjection' 'HelmholtzProjector' 和 'HelmholtzProjection' 'RemoveKernelComponent'。同时，在 Solver 4 中设置 Reference Norm 与 Reference Norm Tolerance 参数，并定义一个材料块。", "source_path": "elmerfem_repo/fem/tests/mgdyn_faraday_disc/with_projection.sif", "source_rel": "fem/tests/mgdyn_faraday_disc/with_projection.sif", "samples": ["!\n! This is a simple verification case to check that a Faraday disc creates\n! the expected potential difference between the rim and and the axis.\n! As explained in the following, this case is also instructive to understand\n! how Elmer treats Maxwell's equations in the case of a moving body.\n!\n! Here a metallic disc rotates and is subject to a uniform magnetic field\n! parallel to the disc axis. When the disc is put to rotate, the mobile charges\n! of the conductor start to feel a radial force due to the Lorentz term v x B\n! and hence accumulate on the insulated rim surface. As a consequence of charge\n! separation a radial electric field E is produced. The process of charge\n! separation continues as long as steady state is reached such that the force on\n! the charges which is produced by the Lorentz term v x B balances the force\n! which is produced by E. That is, in the steady state we have\n!\n!               E'(x) = E(x) + v(x) x B(x) = 0,\n!\n! with E'(x) being the spatial field that describes the force experienced by\n! a charge (see Elmer Models Manual for Maxwell's equations in terms of E').\n! Note that the solution is expressed in the spatial coordinates and attention\n! is not fixed on particular material points (this is known as the Euler\n! description in the continuum mechanics).\n!\n! The potential difference between the centre and the rim is known to be\n! 1/2 w a^2 |B|, where a is the radius of the disc and w is the angular\n! velocity. Elmer generates E'(x) as the electric field variable and we expect\n! to obtain E' = 0 up to the discretization error.\n!\n! The author of this setup: Mika Malinen\n!\n$ omega_z = 50\n$ mu0 = 4*pi*10^-7\n$ mur_1 = 1\nSolver 4 :: Reference Norm = Real 3.119982493397E+001\nSolver 4 :: Reference Norm Tolerance = Real 1e-3\n\nHeader\n  Mesh DB \".\" \"disc\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Simulation Type = Steady State\nEnd\n\nEquation 1\n  Active Solvers(3) = 1 2 3\nEnd\n\nSolver 1\n  Exec Solver = Always\n  Equation = \"mgdyn\"\n  Procedure = \"MagnetoDynamics\" \"WhitneyAVSolver\"\n ! Apply the following three commands to impose the gauge\n ! condition div A = 0 in an iterated manner. This leads to the same\n ! solution as the file with_projection.sif, which was created before\n ! \"Helmholtz Projection = True\" within the AV-solver was enabled\n !\n ! Helmholtz Projection = True\n ! Nonlinear System Max Iterations = 10\n ! Nonlinear System Convergence Tolerance = 1e-6\n  Fix Input Current Density = False\n  Use Piola Transform = True\n  Linear System Solver = Iterative\n  Linear System Preconditioning = Diagonal\n  Linear System Iterative Method = BiCGStabL\n  Bicgstabl Polynomial Degree = 4\n  Linear System Residual Output = 20\n  Linear System Max Iterations = 800\n!  Linear System GCR Restart = 200\n  Linear System Convergence Tolerance = 1e-8\n  Linear System Abort Not Converged = False\n  Steady State Convergence Tolerance = 1e-9\n!  Edge Basis = Logical True\nEnd\n\nSolver 2\n  Exec Solver = Always\n  Equation = \"MGDynamicsCalc\"\n  Procedure = \"MagnetoDynamics\" \"MagnetoDynamicsCalcFields\"\n  Linear System Symmetric = True\n  Calculate Elemental Fields = True\n  Calculate Nodal Fields = False\n  Calculate Magnetic Vector Potential = True\n  Calculate Magnetic Flux Density = True\n  Calculate Magnetic Field Strength = False\n  Calculate Electric Field = True\n  Calculate Current Density = False\n  Calculate Joule Heating = False\n  Linear System Solver = \"Iterative\"\n  Linear System Preconditioning = None\n  Linear System Residual Output = 0\n  Linear System Max Iterations = 5000\n  Linear System Iterative Method = CG\n  Linear System Convergence Tolerance = 1.0e-8\n!  Edge basis = Logical True\nEnd\n\nSolver 3\n!  exec solver = always\n  Equation = \"result output\"\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Save Geometry IDs = Logical True\n  Output File Name = faraday_disc\n  Vtu Format = Logical True\n  Discontinuous Bodies = true\nEnd\n\nSolver 4\n!  Exec Solver = never\n  Procedure = \"SaveData\" \"SaveScalars\"\n  Filename = scalars.dat\n  show norm index = integer 2\nEnd\n\nBody 1\n  Target Bodies(1) = 1\n  Equation = 1\n  Material = 1\n  Body Force = 1\nEnd\n\nMaterial 1\n  Relative Permeability = Real $ mur_1\n  Relative Permittivity = Real 0\n  Electric Conductivity = Real 1e7\nEnd\n\nBody Force 1\n  Angular Velocity 3 = Real $ omega_z\nEnd\n\nBoundary Condition 1\n !\n ! The rim:\n !\n  Target Boundaries(1) = 2\n  AV {e} 1 = Variable Coordinate 2\n  REAL MATC \"-0.5*tx\"\n  AV {e} 2 = Variable Coordinate 1\n  REAL MATC \"0.5*tx\"\n  AV {e} 3 = 0.0\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_007", "model": "gradio", "k": 1, "instruction": "帮我生成一个 ELMER .sif 文件，核心是配置 Stat Current Solver、MGDynamics 和 Helmholtz projection 这几个方程及其求解过程，还有 Solver 3 和 5 的参考范数扩展项，材料块要设 3 个。", "source_path": "elmerfem_repo/fem/tests/mgdyn_bh_gauge/with_projection.sif", "source_rel": "fem/tests/mgdyn_bh_gauge/with_projection.sif", "samples": ["Check Keywords \"Warn\"\n$ w=1\nSolver 1 :: Reference Norm = 1.58974294E-01\nSolver 2 :: Reference Norm = 9.98652213E-01\nSolver 2 :: Reference Norm Tolerance = 1.0e-3\n\nHeader\n  Mesh DB \".\" \"mesh_tet\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian\"\n  Simulation Type = Steady\n  Steady State Max Iterations = 1\n  Output Intervals(1) = 1\n  Coordinate Scaling = 1.0e-3\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\nEnd\n\nMaterial 1\n  Reluctivity  = Real 1\n  Electric Conductivity = Real 1\nEnd\n\nEquation 1\n  Active Solvers(2) = 1 2\nEnd\n\nSolver 1\n  Equation = \"Stat Current Solver\"\n  Procedure = \"StatCurrentSolve\" \"StatCurrentSolver\"\n  Variable = Potential\n  Variable DOFs = 1\n  Calculate Volume Current = True\n  Calculate Electric Conductivity = True\n  Linear System Solver = \"Iterative\"\n  Linear System Iterative Method = CG\n  Linear System Max Iterations = 1000\n  Linear System Convergence Tolerance = 1e-8\n  Linear System Preconditioning = ILU1\n  Linear System Residual Output = 20\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Convergence Tolerance = 1e-4\n  Nonlinear System Newton After Tolerance = 1e-3\n  Nonlinear System Newton After Iterations = 20\n  Nonlinear System Relaxation Factor = 1\n  Steady State Convergence Tolerance = 1e-4\n  Apply Mortar BCs = Logical True\nEnd\n\nSolver 2\n  Equation = \"MGDynamics\"\n  Procedure = \"MagnetoDynamics\" \"WhitneyAVSolver\"\n  Variable = \"P\"\n  Variable DOFs = 1\n  Fix Input Current Density = Logical True\n  Linear System Symmetric = Logical True\n  Linear System Solver = \"Iterative\"\n  Linear System Iterative Method = CG\n  Linear System Iterative Capacity = 1000\n  Linear System Max Iterations = 3000\n  Linear System Convergence Tolerance = 1e-8\n  Linear System Preconditioning = \"ILU0\"\n  Linear System Residual Output = 1000\n  BicgStabl Polynomial Degree = 6\n  Steady State Convergence Tolerance = 1e-4\n  Nonlinear System Convergence Tolerance = 1e-4\n  Nonlinear System Max Iterations = 4\n  Nonlinear System Newton After Iterations = 3\n  Nonlinear System Newton After Tolerance = 1e-3\n  Nonlinear System Relaxation Factor = 1\n  Linear System Abort Not Converged = False\nEnd\n\nSolver 3\n  Exec Solver = never\n  Equation = \"ResultOutput\"\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Output File Name = case\n  Vtu format = Logical True\n  Save Geometry Ids = True\nEnd\n\nSolver 4\n  Exec Solver = never\n  Procedure = \"SaveData\" \"SaveScalars\"\n  Filename = scalars.dat\n  Show Norm Index = 2\nEnd\n\nBoundary Condition 1\n  Target Boundaries(4) = 1 2 3 4\n  P {e} = Real 0\nEnd\n\nBoundary Condition 2\n  Target Boundaries(1) = 5\n  P = Real 0\n  Jfix Real = Real 0\nEnd\n\nBoundary Condition 3\n  Target Boundaries(1) = 6\n  P = Real 0\n  Jfix Real = Real 0\nEnd\n\nBoundary Condition 4\n  Target Boundaries(0.976282) = 7\n  P = Real 0\nEnd"], "mesh_name": "mesh_tet"}
{"id": "elmer_eval_008", "model": "gradio", "k": 1, "instruction": "我需要一个用于磁动力学模拟的 ELMER .sif 配置文件，它应包含必要的求解器方程和计算过程，并指定网格文件。", "source_path": "elmerfem_repo/fem/tests/mgdyn_airgap2/airgap.sif", "source_rel": "fem/tests/mgdyn_airgap2/airgap.sif", "samples": ["Check Keywords \"Warn\"\nINCLUDE toroidalcoil/mesh.names\n$ f = 1000\n$ omega = 2*pi*f\n$ intervals = 20\n$ tsize = 1/(f*intervals)\nSolver 2 :: Reference Norm = Real 0.52693342E-01\nSolver 2 :: Reference Norm Tolerance = Real 1e-3\nRUN\n\nHeader\n  Mesh DB \".\" \"airgap\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian\"\n  Simulation Type = Steady\n  Steady State Max Iterations = 1\n  Output Intervals(1) = 0\n  Angular Frequency = Real $ omega\n! Post File = toroidalcoil.ep\nEnd\n\nInitial Condition 1\n P re = Real 0\n P im = Real 0\n P re {e} = Real 0\n P im {e} = Real 0\nEnd\n\nSolver 1\n   Equation = \"MGDynamics\"\n   Variable =  P[P re:1 P im:1]\n   Procedure = \"MagnetoDynamics\" \"WhitneyAVHarmonicSolver\"\n   Fix Input Current Density = Logical False\n   Angular Frequency = $ omega\n   Linear System Symmetric = Logical true\n   Linear System Solver = \"Iterative\"\n   Linear System Preconditioning = None\n   Linear System Convergence Tolerance = 1e-8\n   Linear System Residual Output = 100\n   Linear System Max Iterations = 5000\n   Linear System Iterative Method = BiCGStabL\n   BiCGstabl polynomial degree = 2\n   Linear System Direct Method = Umfpack\n   Steady State Convergence Tolerance = 1e-6\n   Linear System Abort Not Converged = False\nEnd\n\nSolver 2\n   Equation = \"MGDynamicsCalc\"\n   Procedure = \"MagnetoDynamics\" \"MagnetoDynamicsCalcFields\"\n   Linear System Symmetric = True\n   Potential Variable = String \"P\"\n   Angular Frequency = $ omega\n   Show Angular Frequency = Logical True\n!   Calculate Magnetic Field Strength = Logical True\n   Calculate Current Density = Logical True\n   Steady State Convergence Tolerance = 0\n   Linear System Solver = \"Iterative\"\n   Linear System Preconditioning = None\n   Linear System Residual Output = 0\n   Linear System Max Iterations = 5000\n   Linear System Iterative Method = CG\n   Steady State Convergence Tolerance = 1e-6\n   Linear System Convergence Tolerance = 1.0e-8\nEnd\n\nSolver 3\n!  Exec Solver = after timestep\n  Exec Solver = never\n  Equation = \"ResultOutput\"\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Output File Name = lowfreq\n  Vtu format = Logical True\n  Scalar Field 1 = String \"P\"\n  Scalar Field 1 = String \"Jfix\"\n  Vector Field 1 = String \"Current Density\"\n  Vector Field 2 = String \"Magnetic Flux Density E\"\n  Vector Field 3 = String \"Magnetic Field Strength E\"\nEnd\n\nSolver 4\n!  Exec Solver = After Timestep\n  Exec Solver = never\n  Equation = SaveScalars\n  Procedure = \"SaveData\" \"SaveScalars\"\n  Filename = res/lowfreq.dat\n  File Append = Logical False\n!  Parallel Reduce = Logical True\nEnd\n\nEquation 1\n  Name = \"Coupled Equations\"\n  Active Solvers(2) = 1 2\nEnd\n\nMaterial 1\n  Name = \"Air\"\n  Electric Conductivity = 0\n  Relative Permeability = 1\nEnd\n\nMaterial 2\n  Name = \"Iron\"\n  Electric Conductivity = 0\n  Relative Permeability = 500\n  Laminate Stack Model = String \"Wide-Frequency-Band Model\"\n  Laminate Thickness = Real 3.5e-4\n  Laminate Stack Conductivity = Real 1e7\nEnd\n\nMaterial 3\n  Name = \"Copper\"\n  Electric Conductivity = 100\n  Relative Permeability = 1.0\nEnd\n\nBody 1\n   Name = \"Air\"\n   Target Bodies(1) = $ air\n   Equation = 1\n   Material = 1\nEnd\n\nBody 2\n   Name = \"Ring\"\n   Target Bodies(1) = $ iron\n   Equation = 1\n   Material = 2\nEnd\n\nBody 3\n   Name = \"Cable\"\n   Target Bodies(1) = $ coil\n   Equation = 1\n   Material = 3\nEnd\n\nBoundary Condition 1\n  Target Boundaries(1) = $ FluxParallel\n  P re {e} = real 0\n  P im {e} = real 0\nEnd\n\nBoundary Condition 2\n  Target Boundaries(1) = $ currentIn\n  P re {e} = real 0\n  P im {e} = real 0\n  Electric Current Density = Real -3.5e5\nEnd\n\nBoundary Condition 3\n  Target Boundaries(1) = $ Potential\n  P re {e} = real 0\n  P im {e} = real 0\n  P re = real 0\n  P im = real 0\nEnd\n\nBoundary Condition 4\n  Target Boundaries(1) = $ Flux\n  Magnetic Flux Average = Logical True\nEnd"], "mesh_name": "airgap"}
{"id": "elmer_eval_009", "model": "gradio", "k": 1, "instruction": "现在要配置 ELMER 进行热分析，背景是写 .sif 文件。首先确保文件结构完整，包含所有必要部分；然后设置求解方程为 HeatSolver 和 GmshOutput，并指定对应的求解过程；接着在第一个求解器中扩展 Reference Norm 项；最后定义材料，数量为一块，且 Include Path 保持为空。", "source_path": "elmerfem_repo/fem/tests/Outlet2InletBCv2/case_a.sif", "source_rel": "fem/tests/Outlet2InletBCv2/case_a.sif", "samples": ["Header\n  CHECK KEYWORDS Warn\n  Mesh DB \".\" \"angle\"\n  Include Path \"\"\n  Results Directory \"\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian 2D\"\n  Coordinate Mapping(3) = 1 2 3\n  Simulation Type = \"Steady State\"\n  Steady State Max Iterations = 1\n  Output Intervals = 1\n  Post File = \"TempDist.vtu\"\nEnd\n\nConstants\n  Gravity(4) = 0 -1 0 9.82\n  Stefan Boltzmann = 5.67e-08\nEnd\n\nBody 1\n  Name = \"Body1\"\n  Body Force = 1\n  Equation = 1\n  Material = 1\nEnd\n\nEquation 1\n  Name = \"Equation1\"\n  Heat Equation = True\nEnd\n\nSolver 1\n  Equation = \"Heat Equation\"\n  Variable = \"Temperature\"\n  Variable Dofs = 1\n  Linear System Solver = \"Iterative\"\n  Linear System Iterative Method = \"BiCGStab\"\n  Linear System Max Iterations = 350\n  Linear System Convergence Tolerance = 1.0e-08\n  Linear System Abort Not Converged = True\n  Linear System Preconditioning = \"ILU0\"\n  Linear System Residual Output = 1\n  Steady State Convergence Tolerance = 1.0e-05\n  Stabilize = True\n  Nonlinear System Convergence Tolerance = 1.0e-05\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Newton After Iterations = 3\n  Nonlinear System Newton After Tolerance = 1.0e-02\n  Nonlinear System Relaxation Factor = 1.0\nEnd\n\n\nMaterial 1\n  Name = \"Material1\"\n  Density = 1\n  Heat Conductivity = 1\nEnd\n\nBody Force 1\n  Name = \"BodyForce1\"\n  Heat Source = 1\nEnd\n\nBoundary Condition 1\n  Name = \"Constraint1\"\n  Target Boundaries = 1\n  Temperature = 0\nEnd\n\nSolver 1 :: Reference Norm = Real 0.768016492512E-01\nSolver 1 :: Reference Norm Tolerance = Real 1.0e-4\nRUN"], "mesh_name": ""}
{"id": "elmer_eval_010", "model": "gradio", "k": 1, "instruction": "请准备一个 ELMER 的输入文件，用于处理泊松类问题，注意设置好相关的求解器选项。", "source_path": "elmerfem_repo/fem/tests/SD_PoissonPFEM/ptest.sif", "source_rel": "fem/tests/SD_PoissonPFEM/ptest.sif", "samples": ["Check Keywords \"Warn\"\nBody Force 1 :: Source = Real 1\nEquation 1 :: Active Solvers(1) = 1\nSolver 1 :: Reference Norm = Real 0.24103925E-01\nSolver 1 :: Reference Norm Tolerance = Real 1E-05\n\nHeader\n  Mesh DB \".\" \"square\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = Cartesian\n  Simulation Type = Steady\n  Output Intervals(1) = 1\n  Steady State Max Iterations = 1\n!  Post File = \"ttest.vtu\"\nEnd\n\nBody 1\n  Equation = 1\n  Body Force = 1\nEnd\n\nBody 2\n  Equation = 1\n  Body Force = 1\nEnd\n\nSolver 1\n  Equation = \"Poisson\"\n  Variable = \"Potential\"\n  Variable DOFs = 1\n  Procedure = \"./Poisson\" \"PoissonSolver\"\n  Linear System Symmetric = True\n  Linear System Solver = \"Iterative\"\n  Linear System Iterative Method = Cg\n  Linear System Convergence Tolerance = 1e-6\n  Linear System Preconditioning = None\n  Linear System Max Iterations = 200\n  Linear System Residual Output = 20\n  Optimize Bandwidth = True\n  Steady State Convergence Tolerance = 1e-09\n  MultiColour Solver = Logical True\n  MultiColour Consistent = Logical True\nEnd\n\nBoundary Condition 1\n  Target Boundaries(4) = 1 2 3 4\n  Potential = Real 0\nEnd"], "mesh_name": "square"}
{"id": "elmer_eval_011", "model": "gradio", "k": 1, "instruction": "请编写一个可运行的 ELMER .sif 文件，需包含 Header、Constants、Simulation、Body、Body、Solver 等 17 个 section，并设置求解器方程为 Navier-Stokes、Free 和 Mesh Update，求解过程为 FreeSurfaceSolver，同时为 Solver 3 添加 Reference Norm 扩展项，材料块数量为 1。", "source_path": "elmerfem_repo/fem/tests/freesurf/Free.sif", "source_rel": "fem/tests/freesurf/Free.sif", "samples": ["Header\n  Mesh DB \".\" \"MESHDIR/Mesh1\"\nEnd\n\nConstants\n  Gravity(4)=  0 1 0 9.81\n  Stefan Boltzmann =  5.67e-8\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = Cartesian 2D\n  Simulation Type =\"Transient\"\n  Output Intervals = 1\n  Steady State Max Iterations = 1\n  Steady State Min Iterations = 1\n  Timestepping Method = BDF\n  BDF Order = 1\n  Timestep Sizes = 0.001\n  Timestep Intervals = 2\n !Post File   = \"Free_maxd.vtu\"\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\n  Initial Condition = 2\nEnd\n\nBody 2\n  Equation  = 2\n  Material  = 1\n  Body Force = 1\n  Initial Condition = 2\nEnd\n\nSolver 1\n  Equation = Free\n  Variable = FreeSurface\n  Procedure = \"FreeSurfaceSolver\" \"FreeSurfaceSolver\"\n  Linear System Solver = Iterative\n  Linear System Iterative Method = BiCGStab\n  Linear System Max Iterations = 200\n  Linear System Convergence Tolerance = 1.0E-07\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Min Iterations = 1\n  Nonlinear System Convergence Tolerance = 1.0e-06\n  Nonlinear System Consistent Norm = True\n  Steady State Convergence Tolerance = 1.0e-6\n  Exported Variable 1 = Freesurface Residual\n  Exported Variable 1 DOFs = 1\n  Stabilization Method = Stabilized\n  Apply Dirichlet = Logical False\n  Maximum Displacement = Real 0.01\nEnd\n\nSolver 2\n  Equation = Navier-Stokes\n  Stabilization Method = Bubbles\n  Steady State Convergence Tolerance = 1.0e-5\n  Nonlinear System Convergence Tolerance = 1.0e-5\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Min Iterations = 1\n  Nonlinear System Newton After Iterations = 3\n  Nonlinear System Newton After Tolerance = 1.0e-2\n  Nonlinear System Relaxation Factor = 1\n  Linear System Solver = Iterative\n  Linear System Iterative Method = BiCGStabL\n  Linear System Max Iterations = 200\n  Linear System Convergence Tolerance = 1.0e-0\n  Linear System Preconditioning = ILU2\n  Linear System ILUT Tolerance = 1.0e-3\n  Linear System Abort Not Converged = False\n  Linear System Residual Output = 10\nEnd\n\nSolver 3\n  Equation = Mesh Update\n  Linear System Solver = Iterative\n  Linear System Iterative Method = String Pseudo-Timestepping\n  Procedure = \"MeshSolver\" \"MeshSolver\"\n  Linear System Max Iterations = Integer 200\n  Linear System Convergence Tolerance = Real 1.0e-5\n  Linear System Preconditioning = ILU2\n  Linear System Abort Not Converged = False\n  Linear System Residual Output = 10\n  Steady State Convergence Tolerance = 1.0e-2\nEnd\n\nEquation 1\n  Active Solvers(1) = 3\n  Convection = \"constant\"\nEnd\n\nEquation 2\n  Active Solvers(2) = 1 2\n  Convection = \"constant\"\nEnd\n\nBody Force 1\n  Flow BodyForce 1 = 0\n  Flow BodyForce 2 = 0\n  FreeSurface Accumulation Flux 1 = Real 0.005\n  FreeSurface Accumulation Flux 2 = Real 0.005\nEnd\n\nMaterial 1\n  Viscosity = 1.0\n  Density = 918.0\n  Convection Velocity 1 = Variable Coordinate 1\n  Real MATC \"1*(4*tx*(1-tx))\"\n  Convection Velocity 2 = 0\n  Youngs Modulus = 1\n  Poisson Ratio = 0.3\nEnd\n\nInitial Condition 1\n  Mesh Velocity 1 = Real 0.0\n  Mesh Velocity 2 = Real 0.0\n  FreeSurface = Variable Coordinate 2\n  Real MATC \"0.01+0.1*sin(pi*tx)\"\nEnd\n\nInitial Condition 2\n  Velocity 1 = Variable Coordinate 2\n  Real MATC \"0.01+0.1*sin(pi*tx)\"\n  Velocity 2 = 0\n  FreeSurface = Real 0.01+0.1*sin(pi*tx)\nEnd\n\nBoundary Condition 1\n  Target Boundaries = 1\n  Name = \"Bed\"\n  Velocity 1 = 0\n  Velocity 2 = 0\n  Mesh Update 1 = 0\n  Mesh Update 2 = 0\nEnd\n\nBoundary Condition 2\n  Target Boundaries = 3\n  Name = \"Free\"\n  Body Id = 2\n  Mesh Update 2 = Variable FreeSurface\n  Real MATC \"tx-0.4\"\n  Mesh Update 1 = 0\nEnd\n\nBoundary Condition 3\n  Target Boundaries(2) = 2 4\n  Name = \"Outflow\"\n  Mesh Update 1 = 0\nEnd\n\nSolver 3 :: Reference Norm = Real 0.334858281808\nSolver 3 :: Reference Norm Tolerance = Real 1e-2\nRUN"], "mesh_name": "MESHDIR/Mesh1"}
{"id": "elmer_eval_012", "model": "gradio", "k": 1, "instruction": "帮我生成一个 ELMER .sif 文件，核心是方程用 SaveScalars，过程配 'SaveData' 'SaveScalars'，Solver 1 里加上 Reference Norm 和 Show Norm Index，材料就一块，Include Path 留空。", "source_path": "elmerfem_repo/fem/tests/WinkelPartitionMetisRec/case.sif", "source_rel": "fem/tests/WinkelPartitionMetisRec/case.sif", "samples": ["!---------------------------------------------------------\n! Test case for the consistency of partitioning.\n! This case is partitioned exactly using Metis partitioning\n! into 8 partitions. The number of\n! partitions can not be freely chosen here.\n!\n! This case additionally includes connected elements that are partitioned to\n! partition 1.\n!\n! P.R. 2.5.2016\n!------------------------------------------------------------\n! check that there are 8 partitions\nSolver 1:: Reference Norm = 8\nRUN\n! check the global numbering\nSolver 1:: Show Norm Index = 2\nSolver 1:: Reference Norm = 3.06889810E+07\nRUN\n! check the neighbours\nSolver 1:: Show Norm Index = 3\nSolver 1:: Reference Norm = 97064.000\nRUN\n\nHeader\n  Mesh DB \".\" \"circle_in_box\"\n  Include Path \"\"\n  Results Directory \"\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = Cartesian\n  Coordinate Mapping(3) = 1 2 3\n  Simulation Type = Steady\n  Steady State Max Iterations = 1\n  Output Intervals = 0\n  Mesh Levels = 1\n!  Post File = case.vtu\nEnd\n\nConstants\n  Gravity(4) = 0 -1 0 9.82\n  Stefan Boltzmann = 5.67e-8\nEnd\n\nBody 1\n  Name = \"Body\"\n  Equation = 1\n  Material = 1\nEnd\n\nEquation 1\n  Name = \"CheckPart\"\n  Active Solvers = 1\nEnd\n\nMaterial 1\n  Name = \"None\"\nEnd\n\nSolver 1\n  Equation = SaveScalars\n  Procedure = \"SaveData\" \"SaveScalars\"\n  Parallel Reduce = Logical True\n  Filename = f.dat\n  Operator 1 = partitions\n  Operator 2 = partition checksum\n  Operator 3 = partition neighbours checksum\n  Show Norm Index = 1\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_013", "model": "gradio", "k": 1, "instruction": "请帮我生成一个 ELMER 的 .sif 配置文件，用于求解 Navier-Stokes 方程，并包含一个材料定义。", "source_path": "elmerfem_repo/fem/tests/MeshRefineGrading/Step.sif", "source_rel": "fem/tests/MeshRefineGrading/Step.sif", "samples": ["$NST=1\n$MeltSurface = 2\n$MeltAxis = 3\n$MeltSilicaCrucibleInterface =1\n$Melt = 1\n$CrucibleRotation = 0.5\nSolver 1 :: Reference Norm = 2.88756149E-01\n!End Of File\n\nHeader\n  CHECK KEYWORDS Warn\n  Mesh DB \".\" \"square\"\n  Include Path \"Mesh\"\n  Results Directory \"\"\nEnd\n\nSimulation\n  Min Output Level = 0\n  Max Output Level = 5\n  Output Caller = Logical True\n  Coordinate System = Cylindric Symmetric\n  Coordinate Mapping(3) = 1 2 3\n  Simulation Type = Steady\n  Timestepping Method = BDF\n  Timestep Sizes = 1\n  Timestep Intervals = 100\n!  Output File = \"Bullenmeltflow.dat\"\n!  Post File = \"Bullenmeltflow.vtu\"\n  Output Version Numbers = Logical True\nEnd\n\nBody $Melt\n  Name = Melt\n  Equation = $NST\n  Material = $Melt\n  Initial Condition = 1\n  Body Force = 1\nEnd\n\nBody Force 1\n! Flow BodyForce 1 = Equals Coordinate 1\nEnd\n\nInitial Condition 1\n  Velocity 3 = 0.5\nEnd\n\nEquation $NST\n  Active Solvers(1) = 1\n!  Element = \"p:1 b:1\"\nEnd\n\nSolver 1\n  Equation = String \"Navier-Stokes\"\n  Element = \"p:1 b:1\"\n  Linear System Solver = String \"Iterative\"\n  Linear System Direct Method = \"umfpack\"\n  Linear System Iterative Method = \"BiCGStab\"\n  Linear System Max Iterations = 500\n  Linear System Convergence Tolerance = 1e-10\n  Linear System Abort Not Converged = True\n  Linear System Preconditioning = \"ILU2\"\n  Linear System Ilut Tolerance = 0.0001\n  Linear System Residual Output = 1\n!  Nonlinear System Consistent Norm = True\n  Stabilization Method = pbubbles\n  Bubbles in Global System = False\n  Nonlinear System Convergence Tolerance = 1e-8\n  Nonlinear System Max Iterations = 19.1904\n  Nonlinear System Newton After Iterations = 90\n  Nonlinear System Newton After Tolerance = 1e-3\n  Nonlinear System Relaxation Factor = 1\nEnd\n\nMaterial $Melt\n  Density   = 1000.0\n  Viscosity = 1.0\nEnd\n\nBoundary Condition $MeltSurface\n  Target Boundaries(1) = $MeltSurface\n  Normal-Tangential Velocity = True\n  Velocity 1 = Real 0.0\nEnd\n\nBoundary Condition $MeltAxis\n  Target Boundaries = $MeltAxis\n  Velocity 1 = 0\nEnd\n\nBoundary Condition $MeltSilicaCrucibleInterface\n  Target Boundaries = $MeltSilicaCrucibleInterface\n  Velocity 1 = 0\n  Velocity 2 = 0\n  Velocity 3 = $CrucibleRotation\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_014", "model": "gradio", "k": 1, "instruction": "我打算用 ELMER 做结构分析，需要生成对应的 .sif 文件。背景是模拟包含两种材料的弹性体。请先设置好文件的基本框架和常数，然后分别配置三维弹性方程和壳方程的求解器与过程，最后确保能保存所需标量数据。", "source_path": "elmerfem_repo/fem/tests/Shell_And_Solid2/coupling.sif", "source_rel": "fem/tests/Shell_And_Solid2/coupling.sif", "samples": ["!!!!!!!!!!!!!!!!!!!!!!!!\n!!! Toy model 2D for GIA\n!!!\n!!! simple 2 layer (elastic Lithosphere + Mantle) computed\n!!! on 2 dimensional half-space (symmetry at centre)\n!!! with 30km radius (50 m thickness) instantaneous\n!!! ice load at centre. Sudden deload after 30 years\n!!! rebound for 30 years\n!echo on\n!---LUA BEGIN\n! loadfile('./timeload.lua')()\n!---LUA END\n$name=\"2layer\"\n!Lithosphere\n!Upper mantle 1\n! Lithosphere\n! Upper Mantle 1\n!!!!!!!!!!!!!!!!!!!1!!!!!!!!!!\n! Initial Condition for all\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n! Body Force\n! density times gravity\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n! Lithosphere\n!Upper Mantle 1\n!40 timesteps\n!Solver 1 :: Reference Norm = 3318.5629\nSolver 1 :: Reference Norm = 2.99887008E+04\n\nHeader\n  Mesh DB \".\" \"shell_and_solid\"\nEnd\n\nConstants\n  The answer to all end everything = Integer 42\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = String Cartesian 2D\n  Steady State Min Iterations = 1\n  Steady State Max Iterations = 1\n  Simulation Type = Transient\n  Timestep Sizes(1) =\n  Timestep Intervals(1) = 4\n  Output Intervals(1) = 1\n  BDF Order = 2\n  Timestepping Method = BDF\n !Output File = $name\".results\"\nEnd\n\nBody 1\n  Equation  = 1\n  Material = 1\n  Body Force = 1\n  Initial Condition = 1\nEnd\n\nBody 2\n  Equation  = 1\n  Material = 2\n  Body Force = 2\n  Initial Condition = 1\nEnd\n\nMaterial 1\n  Density =  3233.6\n  Damping = Real 0.0\n  Youngs Modulus = 1.8388e+11\n ! supper high viscosity, hence,\n ! Maxwell time is such that it acts elastic\n  Viscosity = 1.0E44\n  Poisson Ratio = Real 0.49\nEnd\n\nMaterial 2\n  Density =  3367.12\n  Damping = Real 0.0\n  Youngs Modulus = 1.9941e+11\n  Viscosity = 1.0E18\n  Poisson Ratio = Real 0.49\nEnd\n\nInitial Condition 1\n  d 1 = Real 0.0\n  d 2 = Real 0.0\nEnd\n\nBody Force 1\n Stress BodyForce 1 =  0.0\n Stress BodyForce 2 =  0.0\n Gravitational Prestress Advection = Logical True\n GPA Coeff = Real\nEnd\n\nBody Force 2\n Stress BodyForce 1 =  0.0\n Stress BodyForce 2 =  0.0\n Gravitational Prestress Advection = Logical True\n GPA Coeff = Real\nEnd\n\nEquation 1\n  Active Solvers(2) = 1 2\n !Plane Stress = True\nEnd\n\nSolver 1\n  Equation = \"Elasticity Analysis\"\n  Procedure = \"StressSolve\" \"StressSolver\"\n  Displace Mesh = Logical FALSE\n  Calculate Stresses = Logical True\n ! 2D: 2 deformation 1 pressure (as incompressible)\n  Variable = String \"t[d:2 p:1]\"\n ! bubble 3 or 6\n  Element = p:1 b:3\n !Relative Integration Order = -3\n  Incompressible = Logical True\n  Time Derivative Order = 1\n  Maxwell material = Logical True\n  Linear System Solver = Iterative\n  Linear System Iterative Method  = GCR\n  Linear System Max Iterations = 1000\n    Linear System Preconditioning = ILU1\n  Linear System Convergence Tolerance = 1.0e-07\n !Nonlinear System Convergence Tolerance = 1.0e-6\n !Nonlinear System Max Iterations = 1\n !Nonlinear System Relaxation Factor = 1.0\n  Steady State Convergence Tolerance= 1.0e-5\nEnd\n\nSolver 2\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Exec Solver = After Timestep\n  Output Format = vtu\n  Output File Name = $name\n !Discontinuous Galerkin = True\n !Save Bulk Only = True\n  Save Geometry Ids = True\nEnd\n\nBoundary Condition 1\n  Name = \"loaded surface\"\n  Target Boundaries(1) = 1\n! placing a 100m thick glacier on top of surface with a size of 30 km\n! from centre for the first 30 years and then stop\n  Normal Force = Variable Coordinate 1, Time\n  Real lua \"normalload(tx[0],tx[1])\"\nEnd\n\nBoundary Condition 2\n  Name = \"lower mantle\"\n  Target Boundaries(1) = 2\n  d 1 = Real 0\n  d 2 = Real 0\nEnd\n\nBoundary Condition 3\n  Name = \"centre-symmetry\"\n  Target Boundaries(1) = 3\n  d 1 = Real 0\nEnd\n\nBoundary Condition 4\n  Name = \"far-field\"\n  Target Boundaries(1) = 4\n  d 1 = Real 0\n  d 2 = Real 0\nEnd"], "mesh_name": "shell_and_solid"}
{"id": "elmer_eval_015", "model": "gradio", "k": 1, "instruction": "请为 ELMER 准备一个 .sif 文件，重点配置流动和自由表面相关的求解部分，材料方面简单处理。", "source_path": "elmerfem_repo/fem/tests/freesurf_sloshing_2d/case_iterative.sif", "source_rel": "fem/tests/freesurf_sloshing_2d/case_iterative.sif", "samples": ["Header\n  Mesh DB \".\" \"Mesh\"\nEnd\n\nConstants\n  Gravity(4)=  0 1 0 9.81\n  Stefan Boltzmann =  5.67e-8\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = Cartesian 2D\n  Simulation Type =\"Transient\"\n  Output Intervals = 1\n  Steady State Max Iterations = 1\n  Steady State Min Iterations = 1\n  Timestepping Method = BDF\n  BDF Order = 1\n  Timestep Sizes = $31556926.0 * 0.025\n  Timestep Intervals = 30\n!   Post File   = \"Free_ltd.ep\"\n! Output File = \"Free_ltd.result\"\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\n  Body Force = 1\n  Initial Condition = 2\nEnd\n\nBody 2\n  Equation  = 2\n  Material  = 1\n  Body Force = 2\n  Initial Condition = 2\nEnd\n\nSolver 1\n  Equation = Navier-Stokes\n  Stabilize = True\n  Nonlinear System Max Iterations  = 1\n  Nonlinear System Convergence Tolerance = 1.0e-6\n  Nonlinear System Newton After Iterations = 8\n  Nonlinear System Newton After Tolerance = 1.0e-3\n  Nonlinear System Relaxation Factor = 0.9\n  Linear System Solver = Direct\n  Steady State Convergence Tolerance = 1.0e-4\nEnd\n\nSolver 2\n  Equation = Free\n  Variable = FreeSurface\n  Procedure = \"FreeSurfaceSolver\" \"FreeSurfaceSolver\"\n  Linear System Solver = Direct\n  Linear System Convergence Tolerance = 1.0E-09\n  Nonlinear System Max Iterations = 100\n  Nonlinear System Min Iterations = 2\n  Nonlinear System Convergence Tolerance = 1.0e-08\n  Steady State Convergence Tolerance = 1.0e-6\n  Exported Variable 1 = Freesurface Residual\n  Exported Variable 1 DOFs = 1\n  Stabilization Method = Stabilized\n  Apply Dirichlet = Logical True\nEnd\n\nSolver 3\n  Equation = Mesh Update\n  Linear System Solver = Direct\n  Steady State Convergence Tolerance = 1.0e-6\nEnd\n\nEquation 1\n  Active Solvers(2) = 1 3\nEnd\n\nEquation 2\n  Active Solvers(1) = 2\n  Convection = \"computed\"\n  Flow Solution Name = String \"Flow Solution\"\nEnd\n\nBody Force 1\n  Flow BodyForce 1 = 0\n  Flow BodyForce 2 = -9.81\nEnd\n\nBody Force 2\n   FreeSurface Accumulation Flux 1 = Real 0.0\n   FreeSurface Accumulation Flux 2 = Variable Coordinate 1\n  Real MATC \"1.0*(4.0 - sqrt((tx-5.0)*(tx-5.0)))/(31556926.0)\"\nEnd\n\nMaterial 1\n  Viscosity = 1.0E12\n  Density = 918.0\n  Youngs Modulus = 1\n  Poisson Ratio = 0.3\n  Min FreeSurface = Real 0.0\n  Max FreeSurface = Real 1.4\nEnd\n\nInitial Condition 1\n  Velocity 1 = 0.0E00\n  Velocity 2 = 0.0E00\n  Pressure = 0.0\n  Mesh Update 1 = 0.0\n  Mesh Update 2 = 0.0\n  FreeSurface = Real 0.4\nEnd\n\nInitial Condition 2\n  FreeSurface = Real 0.4\nEnd\n\nBoundary Condition 1\n  Target Boundaries = 1\n  Name = \"Bed\"\n  Velocity 1 = 0\n  Velocity 2 = 0\n  Mesh Update 1 = 0\n  Mesh Update 2 = 0\nEnd\n\nBoundary Condition 2\n  Target Boundaries = 3\n  Name = \"Free\"\n  Body Id = 2\n  Flow Force BC = True\n  Surface Tension Coefficient = 0\n  Mesh Update 2 = Variable FreeSurface\n  Real MATC \"tx - 0.4\"\n  Mesh Update 1 = 0\nEnd\n\nBoundary Condition 3\n  Target Boundaries(2) = 2 4\n  Name = \"Outflow\"\n  Mesh Update 1 = 0\nEnd\n\nSolver 3 :: Reference Norm = Real 0.334858281808\nRUN"], "mesh_name": ""}
{"id": "elmer_eval_016", "model": "gradio", "k": 1, "instruction": "请编写一个可运行的 ELMER .sif 文件，需包含 Global、Header、Simulation、Body、Material 等部分，设置求解器方程为 MGDynamics、MGDynamicsCalc、ResultOutput 和 SaveScalars，并配置 MagnetoDynamics WhitneyAVSolver、MagnetoDynamicsCalcFields、ResultOutputSolver 和 SaveScalars 求解过程，同时为 Solver 4 添加 Reference Norm 扩展项，材料块数量为 1。", "source_path": "elmerfem_repo/fem/tests/mgdyn_steady_quad_extruded/case.sif", "source_rel": "fem/tests/mgdyn_steady_quad_extruded/case.sif", "samples": ["! Simple case for testing the line element in 3D simulation.\n! Original date: March 2020\n! eelis.takala@gmail.com\n$ B0 = 1\n$ freq = 1/2/pi\n$ omega = 2 * pi * freq\n$ nstep = 1\n$ periodnstep = 1\n$ resistivity = 2.5e-12/(10*sqrt(2)+4)\n$ cond = 1/resistivity\n$ sc_conductivity = cond\n$ rc_conductivity = cond\nCheck Keywords \"Warn\"\nSolver 4 :: Reference Norm = Real 3.3050904582824392E-002\nSolver 4 :: Reference Norm Tolerance = Real 1E-03\n$fprintf( stderr, \"TEST CASE 1\\n\");\nRUN\n\nHeader 1\n   Mesh DB \".\" \"wire_pair\"\nEnd\n\nConstants 1\n   Permittivity of Vacuum = 8.8542e-12\nEnd\n\nInitial Condition 1\n   A {e} = Real 0\n   A  = Real 0\nEnd\n\nSimulation 1\n   Max Output Level = 12\n   Coordinate System = Cartesian 3D\n   Coordinate Mapping(3) = 1 2 3\n   Coordinate Scaling = 0.001\n   Simulation Type = Transient\n   Timestepping Method = BDF\n   BDF Order = 1\n   Timestep intervals = $ nstep * periodnstep\n   Timestep Sizes = $ 1/(freq*nstep*periodnstep)\n   Steady State Max Iterations = 1\n   Output Intervals = 1\nEnd\n\nSolver 1\n   Exec Solver = Always\n   Equation = \"MGDynamics\"\n   Variable = \"A\"\n   Procedure = \"MagnetoDynamics\" \"WhitneyAVSolver\"\n   Use Piola Transform = True\n   NonLinear System Relaxation Factor=1\n   Export Lagrange Multiplier = Logical True\n   Linear System Solver = Iterative\n!   Linear System Iterative Method = BicgstabL\n   Linear System Iterative Method = GCR\n   Linear System GCR Restart = 100\n   Linear System preconditioning = none\n   Linear System Convergence Tolerance = 1.e-8\n   Linear System Max Iterations = 3000\n   Linear System Residual Output = 1000\n   Linear System ILUT Tolerance=1e-5\n   BicgstabL polynomial degree = 6\n   Steady State Convergence Tolerance = 1e-08\nEnd\n\nSolver 2\n   Exec Solver = Always\n   Equation = \"MGDynamicsCalc\"\n   Procedure = \"MagnetoDynamics\" \"MagnetoDynamicsCalcFields\"\n   Linear System Symmetric = True\n   Potential Variable = String \"A\"\n   Calculate Current Density = Logical True\n   Steady State Convergence Tolerance = 0\n   Linear System Solver = \"Iterative\"\n   Linear System Preconditioning = None\n   Linear System Residual Output = 1000\n   Linear System Max Iterations = 5000\n   Linear System Iterative Method = CG\n   Steady State Convergence Tolerance = 1e-6\n   Linear System Convergence Tolerance = 1.0e-8\nEnd\n\nSolver 3\n  !Exec Solver = After timestep\n   Exec Solver = Never\n   Equation = \"ResultOutput\"\n   Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n   Output File Name = thinline\n   Vtu format = Logical True\n   Save Geometry Ids = Logical True\nEnd\n\nSolver 4\n   Exec Solver = After timestep\n!   Exec Solver = Never\n   Equation = \"sv\"\n   Procedure = \"SaveData\" \"SaveScalars\"\n   Filename = wire_pair/dat/wire_pair.dat\n   Show Norm Index = 3\nEnd\n\nEquation 1\n   Active Solvers(3) = 1 2 3\nEnd\n\nMaterial 1\n   Name = air\n   Electric Conductivity = 1\n   Relative Permeability = 1\nEnd\n\nBody 1\n   Name = air\n   Target Bodies(1) = $ air\n   Equation = 1\n   Material = 1\n   Initial Condition = 1\nEnd\n\nBoundary Condition 1\n   Name = BCn Flux Parallel\n   Target Boundaries(4) = $ xplus xminus yplus yminus\n   A {e} = Real 0\n   A {e} 1 = Variable coordinate 2, time\n  Real MATC \"-tx(0)*cos(omega*tx(1))\"\n!   Magnetic Flux Density 3 = Variable time\n!      Real MATC \"B0*sin(omega*tx)\"\nEnd\n\nBoundary Condition 2\n   Name = wire1\n   Target Boundaries(1) = $ wire1\n   Thin Line Conductivity = Real $ sc_conductivity\n   Thin Line Crossection Area = Real 1e-6\nEnd\n\nBoundary Condition 3\n   Name = wire2\n   Target Boundaries(1) = $ wire2\n   Thin Line Conductivity = Real $ sc_conductivity\n   Thin Line Crossection Area = Real 1e-6\nEnd\n\nBoundary Condition 4\n   Name = rc1\n   Target Boundaries(1) = $ rc1\n   Thin Line Conductivity = Real $ rc_conductivity\n   Thin Line Crossection Area = Real 1e-6\nEnd\n\nBoundary Condition 5\n   Name = rc2\n   Target Boundaries(1) = $ rc2\n   Thin Line Conductivity = Real $ rc_conductivity\n   Thin Line Crossection Area = Real 1e-6\nEnd\n\nBoundary Condition 6\n   Name = B\n   Target Boundaries(2) = $ zminus zplus\n  !A {e} 1 = Variable Coordinate 2\n  !  Real MATC \"-tx/2\"\n  !A {e} 2 = Variable Coordinate 1\n  !  Real MATC \"tx/2\"\n   A = Real 0\n   A {e} = Real 0\n   A {e} 1 = Variable coordinate 2, time\n  Real MATC \"-tx(0)*sin(omega*tx(1))\"\n!   Magnetic Flux Density 3 = Variable time\n!      Real MATC \"B0*sin(omega*tx)\"\nEnd\n\nBoundary Condition 7\n   Name = wire12_t1\n   Target Boundaries(2) = $ wire1_t1 wire2_t1\n   A = Real 0\nEnd\n\nBoundary Condition 8\n   Name = wire12_t2\n   Target Boundaries(2) = $ wire1_t2 wire2_t2\n   A = Real 0\nEnd"], "mesh_name": ""}
{"id": "elmer_eval_017", "model": "gradio", "k": 1, "instruction": "帮我生成一个 ELMER .sif 文件，核心是配置 8 个求解器，方程用 Test P2nd derivaties p-1 到 p-8，过程都设为 P2ndDerivativesTest TestSolver，记得第一个求解器要加上 Reference Norm。", "source_path": "elmerfem_repo/fem/tests/SD_P2ndDerivatives/ptest.sif", "source_rel": "fem/tests/SD_P2ndDerivatives/ptest.sif", "samples": ["Check Keywords \"Warn\"\nSolver 1 :: Reference Norm = Real 0\n\nHeader\n  Mesh DB \".\" \"mesh\"\nEnd\n\nSimulation\n  Max Output Level = 3\n  Coordinate System = Cartesian\n  Simulation Type = Steady\n  Steady State Max Iterations = 1\nEnd\n\nSolver 1\n  Equation = \"Test P2nd derivaties p-1\"\n  No Matrix = Logical True\n  Element = \"p:1\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 2\n  Equation = \"Test P2nd derivaties p-2\"\n  No Matrix = Logical True\n  Element = \"p:2\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 3\n  Equation = \"Test P2nd derivaties p-3\"\n  No Matrix = Logical True\n  Element = \"p:3\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 4\n  Equation = \"Test P2nd derivaties p-4\"\n  No Matrix = Logical True\n  Element = \"p:4\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 5\n  Equation = \"Test P2nd derivaties p-5\"\n  No Matrix = Logical True\n  Element = \"p:5\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 6\n  Equation = \"Test P2nd derivaties p-6\"\n  No Matrix = Logical True\n  Element = \"p:6\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 7\n  Equation = \"Test P2nd derivaties p-7\"\n  No Matrix = Logical True\n  Element = \"p:7\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd\n\nSolver 8\n  Equation = \"Test P2nd derivaties p-8\"\n  No Matrix = Logical True\n  Element = \"p:8\"\n  Procedure = \"P2ndDerivativesTest\" \"TestSolver\"\nEnd"], "mesh_name": "mesh"}
{"id": "elmer_eval_018", "model": "gradio", "k": 1, "instruction": "我需要一个用于磁动力学谐波场计算的 ELMER .sif 配置文件，主要涉及几个特定的求解器和输出设置。", "source_path": "elmerfem_repo/fem/tests/TEAM30a_3ph_transient_par/TEAM30a_3ph_harmonic.sif", "source_rel": "fem/tests/TEAM30a_3ph_transient_par/TEAM30a_3ph_harmonic.sif", "samples": ["!--------------------------------------------------------------\n! Induction Motor Analyses International TEAM Workshop Problem 30\n! - 3 phase problems\n! - this one starts creates a harmonic solution at 300 Hz for restart\n! - the harmonic case is adopted from the test case for frequency scanning\n! - the idea of the test is to show that the harmonic and transient solutions are consistent\n! - torque seems to be around ~6.7+/-0.2 depending on method and harmonic/transient\n!\n! J.V. & P.R. 7.10.21\n!--------------------------------------------------------------\nCheck Keywords \"Warn\"\n!---------------------------------------------------------\n!MESH DATA\n!---------------------------------------------------------\n!---------------------------------------------------------\n!---------------------------------------------------------\n!Parameters\n!---------------------------------------------------------\n$Je=sqrt(2)*310.0e4\n$freq = 60\n$w_s = 2*pi*freq\n$wrot=300\n!---------------------------------------------------------\n!SIMULATION CONFIGURATION\n!---------------------------------------------------------\n!---------------------------------------------------------\n!---------------------------------------------------------\n!---------------------------------------------------------\n! Boundary conditions\n!---------------------------------------------------------\n! Torque Calculation Method 2:\n! Rotor Component for torque calculation using\n! the sum of nodal forces in rotating domains\n! The postprocessing quantity is obtained via the CalcFields Solver\n! Note: this is active only if CalcFields solver is turned on!\n!---------------------------------------------------------\n! Material Properties\n!---------------------------------------------------------\n!---------------------------------------------------------\n! Solver Configuration\n!---------------------------------------------------------\n! Different angular frequency given for rotor and stator\n!---------------------------------------------------------\n! Current sources\n!---------------------------------------------------------\nSolver 1 :: Reference Norm = 1.26573902E-03\nSolver 4 :: Reference Norm = 6.94930267E+00\n\nHeader\n  Mesh DB \".\" \"TEAM30a_3ph\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian 2d\"\n  Simulation Type = \"steady state\"\n  Output Intervals = 0\n  Steady State Max Iterations = 1\n  Use Mesh Names = True\n! Save only the needed information\n  Output File = harmonic.dat\n  Output variable 1 = az re\n  Output variable 2 = lagrangemultiplier re\nEnd\n\nConstants\n  Permittivity of Vacuum = 8.8542e-12\n  Permeability of Vacuum = 1.256e-6\nEnd\n\nBody 1\n  Name = Rotor_Steel\n  Material = 2\n  Equation = 2\nEnd\n\nBody 2\n  Name = Rotor_Aluminum\n  Material = 3\n  Equation = 2\nEnd\n\nBody 3\n  Name = Rotor_side_Airgap\n  Material = 1\n  Equation = 2\n ! Torque Calculation Method 1:\n ! Arkkio's Method\n ! Only valid in uniformly meshed airgaps\n  r inner = Real 3e-2\n  r outer = Real 3.2e-2\nEnd\n\nBody 4\n  Name = Stator_side_Airgap\n  Material = 1\n  Equation = 1\nEnd\n\nBody 5\n  Name = Stator_Air\n  Material = 1\n  Equation = 1\nEnd\n\nBody 6\n  Name = Stator_Steel\n  Material = 4\n  Equation = 1\nEnd\n\nBody 7\n  Name = Winding_1_plus\n  Material = 1\n  Equation = 1\n  Body Force = 1\nEnd\n\nBody 8\n  Name = Winding_1_minus\n  Material = 1\n  Equation = 1\n  Body Force = 4\nEnd\n\nBody 9\n  Name = Winding_2_plus\n  Material = 1\n  Equation = 1\n  Body Force = 2\nEnd\n\nBody 10\n  Name = Winding_2_minus\n  Material = 1\n  Equation = 1\n  Body Force = 5\nEnd\n\nBody 11\n  Name = Winding_3_plus\n  Material = 1\n  Equation = 1\n  Body Force = 3\nEnd\n\nBody 12\n  Name = Winding_3_minus\n  Material = 1\n  Equation = 1\n  Body Force = 6\nEnd\n\nBoundary Condition 1\n  Name = Infinity\n  Az re = Real 0\n  Az im = Real 0\nEnd\n\nBoundary Condition 2\n  Name = Stator_side_Mortar_Boundary\n  Mortar BC Static = Logical True\n  Rotational Projector = Logical True\n  Galerkin Projector = Logical True\n  Mortar BC = Integer 3\nEnd\n\nBoundary Condition 3\n  Name = Rotor_side_Mortar_Boundary\nEnd\n\nComponent 1\n  Name = String \"Rotating_Domains\"\n  Master Bodies(2) = Integer 1 2\n  Calculate Magnetic Torque = Logical true\nEnd\n\nMaterial 1\n  Name = \"Air\"\n  Electric Conductivity = 0.0\n  Relative Permittivity = 1.0\n  Relative Permeability = 1.0\nEnd\n\nMaterial 2\n  Name = \"Rotor_Steel\"\n  Electric Conductivity = 1.6e6\n  Relative Permittivity = 1.0\n  Relative Permeability = 30.0\nEnd\n\nMaterial 3\n  Name = \"Rotor_Aluminum\"\n  Electric Conductivity = 3.72e7\n  Relative Permittivity = 1.0\n  Relative Permeability = 1.0\nEnd\n\nMaterial 4\n  Name = \"Stator_Steel\"\n  Electric Conductivity = 0.0\n  Relative Permittivity = 1.0\n  Relative Permeability = 30.0\nEnd\n\nEquation 1\n  Active Solvers(2) = 1 2\n  Angular Frequency = $w_s\nEnd\n\nEquation 2\n  Active Solvers(2) = 1 2\n  Angular Frequency = $w_s-wrot\nEnd\n\nSolver 1\n  Equation = MgDyn2DHarm\n  Variable = Az[Az re:1 Az im:1]\n  Procedure = \"MagnetoDynamics2D\" \"MagnetoDynamics2DHarmonic\"\n  Linear System Solver = Direct\n  Linear System Direct Method = umfpack\n ! Needed for strong coupling with circuits\n  Export Lagrange Multiplier = True\n  Apply Mortar BCs = Logical True\nEnd\n\nSolver 2\n  Equation = CalcFields\n  Procedure = \"MagnetoDynamics\" \"MagnetoDynamicsCalcFields\"\n  Calculate Current Density = True\n  Calculate Magnetic Flux Density = True\n  Calculate Nodal Fields = False\n  Calculate Elemental Fields = True\n  Calculate Nodal Forces = True\n! Eliminated for testing\n  Exec Solver = never\nEnd\n\nSolver 3\n  Equation = \"ResultOutput\"\n  Procedure = \"ResultOutputSolve\" \"ResultOutputSolver\"\n  Exec Solver = after saving\n  Output File Name = TEAM30A_3ph\n  Output Directory = res\n  Save Geometry Ids = Logical True\n  Vtu Format = Logical True\n  Discontinuous Bodies = True\n! Eliminated for the test\n  Exec Solver = never\nEnd\n\nSolver 4\n  Exec Solver = After Timestep\n  Procedure = \"SaveData\" \"SaveScalars\"\n!  Filename = f.dat\n  Save Component Results = True\n! Reference norm is torque by Arkkio's method\n  Show Norm Index = 3\nEnd\n\nBody Force 1\n  Current Density  = $-Je*cos(0)\n  Current Density Im = Real $-Je*sin(0)\nEnd\n\nBody Force 2\n  Current Density  = $-Je*cos(2*pi/3)\n  Current Density Im = Real $-Je*sin(2*pi/3)\nEnd\n\nBody Force 3\n  Current Density  = $-Je*cos(-2*pi/3)\n  Current Density Im = Real $-Je*sin(-2*pi/3)\nEnd\n\nBody Force 4\n  Current Density  = $Je*cos(0)\n  Current Density Im = Real $Je*sin(0)\nEnd\n\nBody Force 5\n  Current Density  = $Je*cos(2*pi/3)\n  Current Density Im = Real $Je*sin(2*pi/3)\nEnd\n\nBody Force 6\n  Current Density  = $Je*cos(-2*pi/3)\n  Current Density Im = Real $Je*sin(-2*pi/3)\nEnd"], "mesh_name": "TEAM30a_3ph"}
{"id": "elmer_eval_019", "model": "gradio", "k": 1, "instruction": "我需要用 ELMER 进行梁结构分析。请准备输入文件，包含必要的全局设置、求解器（使用 Timoshenko 方程和指定过程，并在第一个求解器中设置参考范数）以及一个材料定义和两个边界条件。", "source_path": "elmerfem_repo/fem/tests/Beam_3D_Spring/case.sif", "source_rel": "fem/tests/Beam_3D_Spring/case.sif", "samples": ["! A reference case where a cantilever is subject to a constant pressure load f.\n!\n! For parameters EI/(GA) = eps we expect the deflection and the rotation at the\n! free end to be w(L) = L^4 f (1 + 4 eps)/(8 EI) and theta(L) = L^3 f/(6 EI).\n! Here the SaveScalars module is set to output the variable values at the end.\n!\n! This modification for eigenmodes\n! P.R. 28.8.2023 (initial test case by M.M.)\nCheck Keywords \"Warn\"\nEquation 1 :: Active Solvers(1) = 1\n! -------------------------------------------------------------------------\n! The following can be used to save the deflection and the rotation\n! at the end:\n! -------------------------------------------------------------------------\nSolver 2 :: Reference Norm = 1.50048419E-04\nSolver 2 :: Reference Norm Tolerance = 1.0e-5\n\nHeader\n  Mesh DB \".\" \"spring\"\n  Results Directory \"results\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = Cartesian 3D\n  Simulation Type = Steady\n  Output Intervals = 1\n  Steady State Max Iterations = 1\n  Post File = \"timoshenko.vtu\"\n  vtu: Eigen Analysis = Logical True\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\nEnd\n\nMaterial 1\n Youngs Modulus = Real 2.0e-1\n Shear Modulus = Real 1.0\n! Youngs Modulus = Real 70.0e+9\n! Shear Modulus = Real 26.0e+9\n! Specify basis where the cross section parameters are expressed:\n Principal Direction 2(3) = Real 0.0 0.0 -1.0\n! Specify I_k:\n Second Moment of Area 2 = Real 1.0\n Second Moment of Area 3 = Real 1.0\n! Specify A:\n Cross Section Area = Real 1.0\n! Specify J_T:\n Torsional Constant = Real 1.0\n! The density is used only in transient cases:\n Density = 2700.0\nEnd\n\nSolver 1\n  Equation = \"Timoshenko Beam Equations\"\n  Procedure = \"BeamSolver3D\" \"TimoshenkoSolver\"\n  Nonlinear System Max Iterations = 1\n  Linear System Scaling = False\n  Linear System Solver = \"Direct\"\n  Linear System Direct Method = \"umfpack\"\n  Eigen Analysis = True\n  Eigen System Values = 12\n  Eigen System Convergence Tolerance = Real 1.0e-6\nEnd\n\nSolver 2\n  Equation = \"Save Scalars\"\n  Procedure = \"SaveData\" \"SaveScalars\"\n  Filename = eigen.dat\n  Save Eigenvalues = True\n! Show the 1st eigenvalue as the reference norm\n  Show Norm Index = 1\nEnd\n\nBoundary Condition 1\n  Target Nodes(1) = 1\n  U 1 = Real 0.0\n  U 2 = Real 0.0\n  U 3 = Real 0.0\n  Theta 1 = Real 0.0\n  Theta 2 = Real 0.0\n  Theta 3 = Real 0.0\nEnd"], "mesh_name": "spring"}
{"id": "elmer_eval_020", "model": "gradio", "k": 1, "instruction": "请为 ELMER 热分析准备一个 .sif 文件，重点配置求解器和材料结构。", "source_path": "elmerfem_repo/fem/tests/ElmerGridExtrudeMaterial/case.sif", "source_rel": "fem/tests/ElmerGridExtrudeMaterial/case.sif", "samples": ["! Test case for advanced ElmerGrid meshing\n! Selected extrusion with BC offset 100\n! Also a novel method of setting material indexes for the BC layers\n! For ElmerSolver just vanilla Poisson equation\nCheck Keywords \"Warn\"\nSolver 1 :: Reference Norm = Real 0.67120112\nRUN\n\nHeader\n  Mesh DB \".\" \"cubes\"\nEnd\n\nSimulation\n  Max Output Level = 5\n  Coordinate System = \"Cartesian\"\n  Simulation Type = Steady\n  Output Intervals = 1\n  Steady State Max Iterations = 1\n!  Post File = case.vtu\nEnd\n\nBody 1\n  Equation = 1\n  Material = 1\nEnd\n\nBody 2\n  Equation = 1\n  Material = 2\nEnd\n\nEquation 1\n  Name = \"Heat\"\n  Active Solvers(1) = 1\nEnd\n\nMaterial 1\n  Name = \"Ideal\"\n  Heat Conductivity = 1.0\n  Density = 1.0\nEnd\n\nMaterial 2\n  Name = \"Ideal2\"\n  Heat Conductivity = 2.0\n  Density = 1.0\nEnd\n\nSolver 1\n  Equation = HeatSolver\n  Variable = Temperature\n  Procedure = \"HeatSolve\" \"HeatSolver\"\n  Steady State Convergence Tolerance = 1.0e-5\n  Nonlinear System Convergence Tolerance = 1.0e-4\n  Nonlinear System Max Iterations = 1\n  Nonlinear System Newton After Iterations = 3\n  Nonlinear System Newton After Tolerance = 1.0e-5\n  Nonlinear System Relaxation Factor = 1\n  Linear System Solver = Iterative\n  Linear System Iterative Method = BiCGStab\n  Linear System Max Iterations = 1000\n  Linear System Convergence Tolerance = 1.0e-8\n  Linear System Preconditioning = ILU0\n  Linear System Abort Not Converged = False\n  Linear System Residual Output = 10\n  Linear System Precondition Recompute = 1\nEnd\n\nBoundary Condition 1\n  Name = \"Cold\"\n  Target Boundaries(2) = 101 102\n  Temperature = 0.0\nEnd\n\nBoundary Condition 2\n  Name = \"Hot\"\n! There are really just boundaries 501 and 504 but\n! it does not matter that there are missing bcs\n  Target Boundaries(4) = 501 502 503 504\n  Temperature = 1.0\nEnd"], "mesh_name": ""}
